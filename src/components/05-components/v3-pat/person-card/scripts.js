/* Component PersonCard */
$(document).ready(function() {
	var PersonCardEvent = function() {
		$('.IsExpandable .PersonCard__headerLeftInfo, .IsExpandable .PersonCard__content')
			.off('click')
			.on('click', function() {
				const $header = $(this).closest('.PersonCard_header');
				const $onCardOpenLink = $header.find('.PersonCard__OnCardOpenLink');
				const $onCardCloseLink = $header.find('.PersonCard__OnCardCloseClick');
				const $content = $header.next();

				if ($content.children().length > 0) {
					const $card = $(this).closest('.PersonCard');

					$content.removeClass('IsExpanded');

					if ($card.hasClass('IsOpen')) {
						$onCardCloseLink.triggerHandler('click');
						$card.removeClass('IsOpen');
					} else {
						$onCardOpenLink.triggerHandler('click');

						$content.addClass('IsExpanded');

						$card.addClass('IsOpen');
					}
				}
			});
	};

	$('.StopPropagation').click(function(event) {
		event.stopPropagation();
	});

	PersonCardEvent();

	osAjaxBackend.BindAfterAjaxRequest(PersonCardEvent);
});
